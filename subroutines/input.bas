100 REM Length restricted string input
110 SET FNKEY 3 TO \"run /subr/input.bas\r"
200 CLS:LOCATE 10,9:PRINT "Date Entry":LOCATE 10,10:PRINT "YYYY/MM/DD"

210 GOSUB _input:ARGS 10,10,4,Y$,"Enter year (YYYY)" RETURN Y$
212 GOSUB _input:ARGS 15,10,2,M$,"Enter month (MM)" RETURN M$:IF Z=140 GOTO 210
214 GOSUB _input:ARGS 18,10,2,D$,"Enter day (DD)" RETURND$:IF Z=140 GOTO 212
220 PRINT:PRINT Y$;"-";M$;"-";D$


59999 END
60000 REM String Input Routine
60001 REM GOSUB _input:ARGS col,row,len,prompt$ RETURN var$
60002 _input:GET ARGS ZC,ZR,ZM,ZV$,ZP$:ZA=ZR*40+40+ZC:ZB$=CHR$(8):ZL=0
60003 ZC$=STRING$(38):POKE SCREEN 1,ZC$:POKE SCREEN 1,ZP$
60004 LOCATE ZC,ZR:PRINT ZV$;:FOR ZZ=0 TO 1:ZZ=0:Z=GETKEY
60005 IF Z=13 OR Z=9 OR Z=140 THEN POKE SCREEN 1,ZC$:RETURN PEEKSCREEN$(ZA,ZL)
60006 IF Z=8 AND ZL THEN PRINT ZB$;:ZL=ZL-1:NEXT
60007 IF Z<32 OR Z>126 OR ZL>=ZM THEN PRINT CHR$(7);:NEXT
60008 PRINT CHR$(Z);:ZL=ZL+1:NEXT

60011 _indate: