			;----------------------------------------------------
			; Project: pt3standalone.zdsp
			; Modified to be interrupt driven by Mack Wharton
			; Main File: main.asm
			;----------------------------------------------------
			
			; Generates a binary file to be included in the plusBASIC ROM
			
    -	5000          	SongData  = $5000               ; (For now)
			
    -	D800          	 org     0xD800                 ; Last 2k of Auxilliary ROM
			
			;Jump table
   0+10	D800  C30CD8  	      jp      StartPlayer       ; Initialize Player
  10+10	D803  C313D8  	      jp      PlayQuark         ;
  20+10	D806  C328D8  	      jp      CHECKLP
  30+10	D809  C339D8  	      jp      MUTE
			
    -	D80C          	StartPlayer:
  40+10	D80C  210050  	      LD      HL,SongData
  50+17	D80F  CD21D8  	      CALL    PT3_PLAY
  67+10	D812  C9      	      RET
			
    -	D813          	PlayQuark:
  77+10	D813  210050  	      LD      HL,SongData
  87+17	D816  CDCADC  	      CALL    PLAY        
 104+10	D819  210040  	      ld      hl,SETUP
 114+12	D81C  CB7E    	      bit     7,(hl)            ; quit if end of song
 126+7+5	D81E  20EC    	      jr      nz,StartPlayer
 133+10	D820  C9      	      RET
			
			
			
			
			include  "macros.i"   ; structure macros
**** macros.i ****
			; start a structure definition
			; eg. STRUCTURE mystruct,0
			STRUCTURE MACRO name,offset
			`name`_offset EQU offset
			count     = offset
			          ENDM
			
			; allocate 1 byte in structure
			; eg. BYTE char1
			BYTE      MACRO name
W Macro 'BYTE' will override the built-in 'BYTE'
			name      EQU   count
			count     = count+1
			          ENDM
			
			; allocate 2 bytes in structure
			; eg. WORD int1
			WORD      MACRO name
W Macro 'WORD' will override the built-in 'WORD'
			name      EQU count
			count     = count+2
			          ENDM
			
			; allocate 3 bytes in structure
			; typically used to define jump table addresses
			; eg. VECT my_code
			VECTOR    MACRO name
			name      EQU count
			count     = count+3
			          ENDM
			
			; allocate 4 bytes in structure
			; eg. LONG longint1
			LONG      MACRO name
			name      EQU count
			count     = count+4
			          ENDM
			
			; allocate multiple bytes
			; typically used to embed a structure inside another
			; eg. STRUCT filename,11
			STRUCT    MACRO name,size
			name      EQU   count
			count     = count+size
			          ENDM
			
			; finish defining structure
			; eg. ENDSTRUCT mystruct
			ENDSTRUCT MACRO name
			`name`.size EQU count-`name`_offset
			          ENDM
			
**** main.asm ****
			include   PTPlayer.asm
**** PTPlayer.asm ****
			;----------------------------------------------------
			; File: PTPlayer.asm
			;----------------------------------------------------
			
			; address of variables in RAM
    -	4000          	VARMEM = $4000  ; This is where the variables used should go 
			
			; AY registers
			; STRUCT AYREGS
    -	0000          	TonA     = 0
    -	0002          	TonB     = 2
    -	0004          	TonC     = 4
    -	0006          	Noise    = 6
    -	0007          	Mixer    = 7
    -	0008          	AmplA    = 8
    -	0009          	AmplB    = 9
    -	000A          	AmplC    = 10
    -	000B          	Env      = 11
    -	000D          	EnvTp    = 13
			
			;ChannelsVars
			; STRUCT  CHP
			;reset group
    -	0000          	PsInOr   =  0
    -	0001          	PsInSm   =  1
    -	0002          	CrAmSl   =  2
    -	0003          	CrNsSl   =  3
    -	0004          	CrEnSl   =  4
    -	0005          	TSlCnt   =  5
    -	0006          	CrTnSl   =  6
    -	0008          	TnAcc    =  8
    -	000A          	COnOff   = 10
			;reset group
			
    -	000B          	OnOffD   = 11
			
			;IX for PTDECOD here (+12)
    -	000C          	OffOnD   = 12
    -	000D          	OrnPtr   = 13
    -	000F          	SamPtr   = 15
    -	0011          	NNtSkp   = 17
    -	0012          	Note     = 18
    -	0013          	SlToNt   = 19
    -	0014          	Env_En   = 20
    -	0015          	PtFlags  = 21
			 ;Enabled - 0,SimpleGliss - 2
    -	0016          	TnSlDl   = 22
    -	0017          	TSlStp   = 23
    -	0019          	TnDelt   = 25
    -	001B          	NtSkCn   = 27
    -	001C          	Volume   = 28
			;   ENDS
    -	001D          	CHP_size = 29
			
			
			;---------------------------------------------------------
			; Variables (and self-mofifying code, if present) in RAM
			; NOTE: must be initialized before use!
			;---------------------------------------------------------
			;
    -	4000          	VARS_offset EQU VARMEM
    -	4000          	count     = VARMEM
    -	D821          	          ENDM
    -	        	 STRUCTURE VARS,VARMEM
    -	4000          	SETUP      EQU   count
    -	4001          	count     = count+1
    -	D821          	          ENDM
    -	        	      BYTE SETUP        ; bit7 = 1 when loop point reached
    -	4001          	CrPsPtr      EQU count
    -	4003          	count     = count+2
    -	D821          	          ENDM
    -	        	      WORD CrPsPtr
    -	4003          	AddToEn      EQU   count
    -	4004          	count     = count+1
    -	D821          	          ENDM
    -	        	      BYTE AddToEn
    -	4004          	AdInPtA      EQU count
    -	4006          	count     = count+2
    -	D821          	          ENDM
    -	        	      WORD AdInPtA
    -	4006          	AdInPtB      EQU count
    -	4008          	count     = count+2
    -	D821          	          ENDM
    -	        	      WORD AdInPtB
    -	4008          	AdInPtC      EQU count
    -	400A          	count     = count+2
    -	D821          	          ENDM
    -	        	      WORD AdInPtC
    -	400A          	Env_Del      EQU   count
    -	400B          	count     = count+1
    -	D821          	          ENDM
    -	        	      BYTE Env_Del
    -	400B          	MODADDR      EQU count
    -	400D          	count     = count+2
    -	D821          	          ENDM
    -	        	      WORD MODADDR
    -	400D          	ESldAdd      EQU count
    -	400F          	count     = count+2
    -	D821          	          ENDM
    -	        	      WORD ESldAdd
    -	400F          	Delay      EQU   count
    -	4010          	count     = count+1
    -	D821          	          ENDM
    -	        	      BYTE Delay
    -	4010          	SaveSP      EQU count
    -	4012          	count     = count+2
    -	D821          	          ENDM
    -	        	      WORD SaveSP
    -	4012          	SamPtrs      EQU count
    -	4014          	count     = count+2
    -	D821          	          ENDM
    -	        	      WORD SamPtrs
    -	4014          	OrnPtrs      EQU count
    -	4016          	count     = count+2
    -	D821          	          ENDM
    -	        	      WORD OrnPtrs
    -	4016          	PatsPtr      EQU count
    -	4018          	count     = count+2
    -	D821          	          ENDM
    -	        	      WORD PatsPtr
    -	4018          	LPosPtr      EQU count
    -	401A          	count     = count+2
    -	D821          	          ENDM
    -	        	      WORD LPosPtr
    -	401A          	PrSlide      EQU count
    -	401C          	count     = count+2
    -	D821          	          ENDM
    -	        	      WORD PrSlide
    -	401A          	L3       = PrSlide    ; opcode + RET
    -	401A          	M2       = PrSlide
    -	401C          	PrNote      EQU   count
    -	401D          	count     = count+1
    -	D821          	          ENDM
    -	        	      BYTE PrNote
    -	401D          	PtVersion      EQU   count
    -	401E          	count     = count+1
    -	D821          	          ENDM
    -	        	      BYTE PtVersion
			;end of variables and self-modifying code
			;start of cleared data area
    -	401E          	ChanA      EQU   count
    -	403B          	count     = count+CHP_size
    -	D821          	          ENDM
    -	        	    STRUCT ChanA,CHP_size
    -	403B          	ChanB      EQU   count
    -	4058          	count     = count+CHP_size
    -	D821          	          ENDM
    -	        	    STRUCT ChanB,CHP_size
    -	4058          	ChanC      EQU   count
    -	4075          	count     = count+CHP_size
    -	D821          	          ENDM
    -	        	    STRUCT ChanC,CHP_size
			
			;GlobalVars
    -	4075          	DelyCnt      EQU   count
    -	4076          	count     = count+1
    -	D821          	          ENDM
    -	        	      BYTE DelyCnt
    -	4076          	CurESld      EQU count
    -	4078          	count     = count+2
    -	D821          	          ENDM
    -	        	      WORD CurESld
    -	4078          	CurEDel      EQU count
    -	407A          	count     = count+2
    -	D821          	          ENDM
    -	        	      WORD CurEDel
			;arrays
    -	407A          	Ns_Base      EQU   count
    -	407B          	count     = count+1
    -	D821          	          ENDM
    -	        	      BYTE Ns_Base
    -	407A          	Ns_Base_AddToNs = Ns_Base
    -	407B          	AddToNs      EQU   count
    -	407C          	count     = count+1
    -	D821          	          ENDM
    -	        	      BYTE AddToNs
    -	407C          	VT_      EQU   count
    -	417C          	count     = count+256
    -	D821          	          ENDM
    -	        	    STRUCT VT_,256  ; 256 bytes CreatedVolumeTableAddress
			
    -	407C          	AYREGS   = VT_      ; 14 AY-3-8910 registers
    -	408A          	EnvBase  = VT_+14
    -	408C          	VAR0END  = VT_+16   ; end of cleared data area
			
    -	408C          	T1_      = VT_+16   ; Tone table data depacked here
    -	408C          	T_OLD_1  = T1_
    -	40A4          	T_OLD_2  = T_OLD_1+24
    -	40BC          	T_OLD_3  = T_OLD_2+24
    -	40BE          	T_OLD_0  = T_OLD_3+2
    -	40BE          	T_NEW_0  = T_OLD_0
    -	408C          	T_NEW_1  = T_OLD_1
    -	40D6          	T_NEW_2  = T_NEW_0+24
    -	40BC          	T_NEW_3  = T_OLD_3
			
			;local vars
    -	4086          	Ampl     = AYREGS+AmplC
			
    -	417C          	NT_      = VT_+256       ; 192 bytes Note Table
    -	423C          	VAREND   = NT_+192       ; end of variable data area
    -	023C          	VAR_size = VAREND-VARMEM
			
			 
    -	D821          	PT3_PLAY:
 143+10	D821  210050  	       LD     HL,SongData
			
 153+17	D824  CD45D8  	       CALL INIT              ; initialize player
 170+10	D827  C9      	       RET
			
    -	D828          	CHECKLP:
 180+10	D828  210040  	    LD   HL,SETUP
 190+15	D82B  CBFE    	    SET  7,(HL)
 205+12	D82D  CB46    	    BIT  0,(HL)
 217+5+6	D82F  C8      	    RET  Z
 222+10	D830  E1      	    POP  HL
 232+10	D831  217540  	    LD   HL,DelyCnt
 242+11	D834  34      	    INC  (HL)
 253+10	D835  213940  	    LD   HL,ChanA+NtSkCn
 263+11	D838  34      	    INC  (HL)
    -	D839          	MUTE:
 274+4	D839  AF      	    XOR  A
 278+4	D83A  67      	    LD   H,A
 282+4	D83B  6F      	    LD   L,A
 286+13	D83C  328440  	    LD   (AYREGS+AmplA),A
 299+16	D83F  228540  	    LD   (AYREGS+AmplB),HL
 315+10	D842  C3C4DD  	    JP   ROUT_A0
			
    -	D845          	INIT:
			;HL - AddressOfModule
 325+16	D845  220B40  	    LD   (MODADDR),HL
 341+11	D848  E5      	    PUSH HL
 352+10	D849  116400  	    LD   DE,100
 362+11	D84C  19      	    ADD  HL,DE
 373+7	D84D  7E      	    LD   A,(HL)
 380+13	D84E  320F40  	    LD   (Delay),A
 393+11	D851  E5      	    PUSH HL
 404+14	D852  DDE1    	    POP  IX
 418+11	D854  19      	    ADD  HL,DE
 429+16	D855  220140  	    LD   (CrPsPtr),HL
 445+19	D858  DD5E02  	    LD   E,(IX+102-100)
 464+11	D85B  19      	    ADD  HL,DE
 475+6	D85C  23      	    INC  HL
 481+16	D85D  221840  	    LD   (LPosPtr),HL
 497+10	D860  D1      	    POP  DE
 507+19	D861  DD6E03  	    LD   L,(IX+103-100)
 526+19	D864  DD6604  	    LD   H,(IX+104-100)
 545+11	D867  19      	    ADD  HL,DE
 556+16	D868  221640  	    LD   (PatsPtr),HL
 572+10	D86B  21A900  	    LD   HL,169
 582+11	D86E  19      	    ADD  HL,DE
 593+16	D86F  221440  	    LD   (OrnPtrs),HL
 609+10	D872  216900  	    LD   HL,105
 619+11	D875  19      	    ADD  HL,DE
 630+16	D876  221240  	    LD   (SamPtrs),HL
 646+10	D879  210040  	    LD   HL,SETUP
 656+15	D87C  CBBE    	    RES  7,(HL)
			
			;note table data depacker
 671+10	D87E  112EDE  	    LD   DE,T_PACK
 681+10	D881  01ED40  	    LD   BC,T1_+(2*49)-1
    -	D884          	TP_0:
 691+7	D884  1A      	    LD   A,(DE)
 698+6	D885  13      	    INC  DE
 704+7	D886  FE1E    	    CP   15*2
 711+7+5	D888  3006    	    JR   NC,TP_1
 718+4	D88A  67      	    LD   H,A
 722+7	D88B  1A      	    LD   A,(DE)
 729+4	D88C  6F      	    LD   L,A
 733+6	D88D  13      	    INC  DE
 739+12	D88E  1807    	    JR   TP_2
    -	D890          	TP_1:
 751+11	D890  D5      	    PUSH DE
 762+7	D891  1600    	    LD   D,0
 769+4	D893  5F      	    LD   E,A
 773+11	D894  19      	    ADD  HL,DE
 784+11	D895  19      	    ADD  HL,DE
 795+10	D896  D1      	    POP  DE
    -	D897          	TP_2:
 805+4	D897  7C      	    LD   A,H
 809+7	D898  02      	    LD   (BC),A
 816+6	D899  0B      	    DEC  BC
 822+4	D89A  7D      	    LD   A,L
 826+7	D89B  02      	    LD   (BC),A
 833+6	D89C  0B      	    DEC  BC
 839+7	D89D  D6F0    	    SUB  low($F8*2)
 846+7+5	D89F  20E3    	    JR   NZ,TP_0
			
 853+10	D8A1  211E40  	    LD   HL,ChanA
 863+7	D8A4  77      	    LD   (HL),A                   ; clear first variable byte
 870+4	D8A5  54      	    LD   D,H
 874+4	D8A6  5D      	    LD   E,L
 878+6	D8A7  13      	    INC  DE
 884+10	D8A8  016D00  	    LD   BC,VAR0END-ChanA-1
 894+16+5	D8AB  EDB0    	    LDIR                          ; clear all other variable bytes
 910+4	D8AD  3C      	    INC  A
 914+13	D8AE  327540  	    LD   (DelyCnt),A
 927+10	D8B1  2101F0  	    LD   HL,$F001 ;H - Volume, L - NtSkCn
 937+16	D8B4  223940  	    LD   (ChanA+NtSkCn),HL
 953+16	D8B7  225640  	    LD   (ChanB+NtSkCn),HL
 969+16	D8BA  227340  	    LD   (ChanC+NtSkCn),HL
			
 985+10	D8BD  212ADE  	    LD   HL,EMPTYSAMORN
 995+16	D8C0  220440  	    LD   (AdInPtA),HL ;ptr to zero
1011+16	D8C3  222B40  	    LD   (ChanA+OrnPtr),HL ;ornament 0 is "0,1,0"
1027+16	D8C6  224840  	    LD   (ChanB+OrnPtr),HL ;in all Versions from
1043+16	D8C9  226540  	    LD   (ChanC+OrnPtr),HL ;3.xx to 3.6x and VTII
			
1059+16	D8CC  222D40  	    LD   (ChanA+SamPtr),HL ;S1 There is no default
1075+16	D8CF  224A40  	    LD   (ChanB+SamPtr),HL ;S2 sample in PT3, so, you
1091+16	D8D2  226740  	    LD   (ChanC+SamPtr),HL ;S3 can comment S1,2,3; see
			                    ;also EMPTYSAMORN comment
1107+19	D8D5  DD7EA9  	    LD   A,(IX+13-100) ;EXTRACT Version NUMBER
1126+7	D8D8  D630    	    SUB  $30
1133+7+5	D8DA  3804    	    JR   C,L20
1140+7	D8DC  FE0A    	    CP   10
1147+7+5	D8DE  3802    	    JR   C,L21
1154+7	D8E0  3E06    	L20 LD   A,6
1161+13	D8E2  321D40  	L21 LD   (PtVersion),A
1174+11	D8E5  F5      	    PUSH AF
1185+7	D8E6  FE04    	    CP   4
1192+19	D8E8  DD7EFF  	    LD   A,(IX+99-100) ;TONE TABLE NUMBER
1211+4	D8EB  17      	    RLA
1215+7	D8EC  E607    	    AND  7
			;NoteTableCreator (c) Ivan Roshin
			;A - NoteTableNumber*2+VersionForNoteTable
			;(xx1b - 3.xx..3.4r, xx0b - 3.4x..3.6x..VTII1.0)
1222+10	D8EE  21DADD  	    LD   HL,NT_DATA
1232+11	D8F1  D5      	    PUSH DE
1243+4	D8F2  50      	    LD   D,B
1247+4	D8F3  87      	    ADD  A,A
1251+4	D8F4  5F      	    LD   E,A
1255+11	D8F5  19      	    ADD  HL,DE
1266+7	D8F6  5E      	    LD   E,(HL)
1273+6	D8F7  23      	    INC  HL
1279+8	D8F8  CB3B    	    SRL  E
1287+4	D8FA  9F      	    SBC  A,A
1291+7	D8FB  E6A7    	    AND  $A7      ; $00 (NOP) or $A7 (AND A)
1298+13	D8FD  321A40  	    LD   (L3),A
1311+7	D900  3EC9    	    LD   A,$C9    ; RET temporary
1318+13	D902  321B40  	    LD   (L3+1),A ; temporary
1331+4	D905  EB      	    EX   DE,HL
1335+10	D906  C1      	    POP  BC       ; BC=T1_
1345+11	D907  09      	    ADD  HL,BC
			
1356+7	D908  1A      	    LD   A,(DE)
			
1363+7	D909  C6EA    	    ADD  A,low(T_)
1370+4	D90B  4F      	    LD   C,A
1374+7	D90C  CEDD    	    ADC  A,high(T_)
			
1381+4	D90E  91      	    SUB  C
1385+4	D90F  47      	    LD   B,A
1389+11	D910  C5      	    PUSH BC
1400+10	D911  117C41  	    LD   DE,NT_
1410+11	D914  D5      	    PUSH DE
			
1421+7	D915  060C    	    LD   B,12
1428+11	D917  C5      	L1  PUSH BC
1439+7	D918  4E      	    LD   C,(HL)
1446+6	D919  23      	    INC  HL
1452+11	D91A  E5      	    PUSH HL
1463+7	D91B  46      	    LD   B,(HL)
			
1470+11	D91C  D5      	    PUSH DE
1481+4	D91D  EB      	    EX   DE,HL
1485+10	D91E  111700  	    LD   DE,23
1495+11	D921  DD2608  	    LD   IXH,8
			
1506+8	D924  CB38    	L2  SRL  B
1514+8	D926  CB19    	    RR   C
1522+17	D928  CD1A40  	    CALL L3     ;temporary
			;L3 DB    $19   ;AND A or NOP
1539+4	D92B  79      	    LD   A,C
1543+4	D92C  8A      	    ADC  A,D    ;=ADC 0
1547+7	D92D  77      	    LD   (HL),A
1554+6	D92E  23      	    INC  HL
1560+4	D92F  78      	    LD   A,B
1564+4	D930  8A      	    ADC  A,D
1568+7	D931  77      	    LD   (HL),A
1575+11	D932  19      	    ADD  HL,DE
1586+8	D933  DD25    	    DEC  IXH
1594+7+5	D935  20ED    	    JR   NZ,L2
			
1601+10	D937  D1      	    POP  DE
1611+6	D938  13      	    INC  DE
1617+6	D939  13      	    INC  DE
1623+10	D93A  E1      	    POP  HL
1633+6	D93B  23      	    INC  HL
1639+10	D93C  C1      	    POP  BC
1649+8+5	D93D  10D8    	    DJNZ L1
			
1657+10	D93F  E1      	    POP  HL
1667+10	D940  D1      	    POP  DE
			
1677+4	D941  7B      	    LD   A,E
1681+7	D942  FEF6    	    CP   low(TCOLD_1)
1688+7+5	D944  2005    	    JR   NZ,CORR_1
1695+7	D946  3EFD    	    LD   A,$FD
1702+13	D948  32AA41  	    LD   (NT_+$2E),A
			
    -	D94B          	CORR_1:
1715+7	D94B  1A      	    LD   A,(DE)
1722+4	D94C  A7      	    AND  A
1726+7+5	D94D  2811    	    JR   Z,TC_EXIT
1733+4	D94F  1F      	    RRA
1737+11	D950  F5      	    PUSH AF
1748+4	D951  87      	    ADD  A,A
1752+4	D952  4F      	    LD   C,A
1756+11	D953  09      	    ADD  HL,BC
1767+10	D954  F1      	    POP  AF
1777+7+5	D955  3002    	    JR   NC,CORR_2
1784+11	D957  35      	    DEC  (HL)
1795+11	D958  35      	    DEC  (HL)
    -	D959          	CORR_2:
1806+11	D959  34      	    INC  (HL)
1817+4	D95A  A7      	    AND  A
1821+15	D95B  ED42    	    SBC  HL,BC
1836+6	D95D  13      	    INC  DE
1842+12	D95E  18EB    	    JR   CORR_1
			
    -	D960          	TC_EXIT:
1854+10	D960  F1      	    POP  AF
			
			;VolTableCreator (c) Ivan Roshin
			;A - VersionForVolumeTable (0..4 - 3.xx..3.4x;
			               ;5.. - 3.5x..3.6x..VTII1.0)
1864+7	D961  FE05    	    CP   5
1871+10	D963  211100  	    LD   HL,$11
1881+4	D966  54      	    LD   D,H
1885+4	D967  5C      	    LD   E,H
1889+7	D968  3E17    	    LD   A,$17
1896+7+5	D96A  3003    	    JR   NC,M1
1903+4	D96C  2D      	    DEC  L
1907+4	D96D  5D      	    LD   E,L
1911+4	D96E  AF      	    XOR  A
    -	D96F          	M1:
1915+13	D96F  321A40  	    LD   (M2),A      ; $17 or $00
			
1928+14	D972  DD218C40	    LD   IX,VT_+16
1942+7	D976  0E10    	    LD   C,$10
			
    -	D978          	INITV2:
1949+11	D978  E5      	    PUSH HL
1960+11	D979  19      	    ADD  HL,DE
1971+4	D97A  EB      	    EX   DE,HL
1975+15	D97B  ED62    	    SBC  HL,HL
    -	D97D          	INITV1:
1990+4	D97D  7D      	    LD   A,L
			;M2      DB $7D
1994+17	D97E  CD1A40  	    CALL M2 ;temporary
2011+4	D981  7C      	    LD   A,H
2015+7	D982  CE00    	    ADC  A,0
2022+19	D984  DD7700  	    LD   (IX),A
2041+10	D987  DD23    	    INC  IX
2051+11	D989  19      	    ADD  HL,DE
2062+4	D98A  0C      	    INC  C
2066+4	D98B  79      	    LD   A,C
2070+7	D98C  E60F    	    AND  15
2077+7+5	D98E  20ED    	    JR   NZ,INITV1
			
2084+10	D990  E1      	    POP  HL
2094+4	D991  7B      	    LD   A,E
2098+7	D992  FE77    	    CP   $77
2105+7+5	D994  2001    	    JR   NZ,M3
2112+4	D996  1C      	    INC  E
    -	D997          	M3:
2116+4	D997  79      	    LD   A,C
2120+4	D998  A7      	    AND  A
2124+7+5	D999  20DD    	    JR   NZ,INITV2
2131+10	D99B  C3C4DD  	    JP   ROUT_A0
			
			;pattern decoder
    -	D99E          	PD_OrSm:
2141+19	D99E  DD360800	    LD   (IX-12+Env_En),0
2160+17	D9A2  CD3FDB  	    CALL SETORN
2177+7	D9A5  0A      	    LD   A,(BC)
2184+6	D9A6  03      	    INC  BC
2190+4	D9A7  0F      	    RRCA
    -	D9A8          	PD_SAM:
2194+4	D9A8  87      	    ADD  A,A
    -	D9A9          	PD_SAM_:
2198+4	D9A9  5F      	    LD   E,A
2202+7	D9AA  1600    	    LD   D,0
2209+16	D9AC  2A1240  	    LD   HL,(SamPtrs)
2225+11	D9AF  19      	    ADD  HL,DE
2236+7	D9B0  5E      	    LD   E,(HL)
2243+6	D9B1  23      	    INC  HL
2249+7	D9B2  56      	    LD   D,(HL)
2256+16	D9B3  2A0B40  	    LD   HL,(MODADDR)
2272+11	D9B6  19      	    ADD  HL,DE
2283+19	D9B7  DD7503  	    LD   (IX-12+SamPtr),L
2302+19	D9BA  DD7404  	    LD   (IX-12+SamPtr+1),H
2321+12	D9BD  1841    	    JR   PD_LOOP
			
    -	D9BF          	PD_VOL:
2333+4	D9BF  07      	    RLCA
2337+4	D9C0  07      	    RLCA
2341+4	D9C1  07      	    RLCA
2345+4	D9C2  07      	    RLCA
2349+19	D9C3  DD7710  	    LD   (IX-12+Volume),A
2368+12	D9C6  183B    	    JR   PD_LP2
			
    -	D9C8          	PD_EOff:
2380+19	D9C8  DD7708  	    LD  (IX-12+Env_En),A
2399+19	D9CB  DD77F4  	    LD  (IX-12+PsInOr),A
2418+12	D9CE  1833    	    JR   PD_LP2
			
    -	D9D0          	PD_SorE:
2430+4	D9D0  3D      	    DEC  A
2434+7+5	D9D1  2007    	    JR   NZ,PD_ENV
2441+7	D9D3  0A      	    LD   A,(BC)
2448+6	D9D4  03      	    INC  BC
2454+19	D9D5  DD7705  	    LD   (IX-12+NNtSkp),A
2473+12	D9D8  1829    	    JR   PD_LP2
			
    -	D9DA          	PD_ENV:
2485+17	D9DA  CD23DB  	    CALL SETENV
2502+12	D9DD  1824    	    JR   PD_LP2
			
    -	D9DF          	PD_ORN:
2514+17	D9DF  CD3FDB  	    CALL SETORN
2531+12	D9E2  181C    	    JR   PD_LOOP
			
    -	D9E4          	PD_ESAM:
2543+19	D9E4  DD7708  	    LD   (IX-12+Env_En),A
2562+19	D9E7  DD77F4  	    LD   (IX-12+PsInOr),A
2581+10+7	D9EA  C423DB  	    CALL NZ,SETENV
2591+7	D9ED  0A      	    LD   A,(BC)
2598+6	D9EE  03      	    INC  BC
2604+12	D9EF  18B8    	    JR   PD_SAM_
			
    -	D9F1          	PTDECOD:
2616+19	D9F1  DD7E06  	    LD   A,(IX-12+Note)
2635+13	D9F4  321C40  	    LD   (PrNote),A
2648+19	D9F7  DD6EFA  	    LD   L,(IX-12+CrTnSl)
2667+19	D9FA  DD66FB  	    LD   H,(IX-12+CrTnSl+1)
2686+16	D9FD  221A40  	    LD   (PrSlide),HL
    -	DA00          	PD_LOOP:
2702+10	DA00  111020  	    LD   DE,$2010
    -	DA03          	PD_LP2:
2712+7	DA03  0A      	    LD   A,(BC)
2719+6	DA04  03      	    INC  BC
2725+4	DA05  83      	    ADD  A,E
2729+7+5	DA06  3896    	    JR   C,PD_OrSm
2736+4	DA08  82      	    ADD  A,D
2740+7+5	DA09  284A    	    JR   Z,PD_FIN
2747+7+5	DA0B  389B    	    JR   C,PD_SAM
2754+4	DA0D  83      	    ADD  A,E
2758+7+5	DA0E  2825    	    JR   Z,PD_REL
2765+7+5	DA10  38AD    	    JR   C,PD_VOL
2772+4	DA12  83      	    ADD  A,E
2776+7+5	DA13  28B3    	    JR   Z,PD_EOff
2783+7+5	DA15  38B9    	    JR   C,PD_SorE
2790+7	DA17  C660    	    ADD  A,96
2797+7+5	DA19  3820    	    JR   C,PD_NOTE
2804+4	DA1B  83      	    ADD  A,E
2808+7+5	DA1C  38C1    	    JR   C,PD_ORN
2815+4	DA1E  82      	    ADD  A,D
2819+7+5	DA1F  380F    	    JR   C,PD_NOIS
2826+4	DA21  83      	    ADD  A,E
2830+7+5	DA22  38C0    	    JR   C,PD_ESAM
2837+4	DA24  87      	    ADD  A,A
2841+4	DA25  5F      	    LD   E,A
2845+10	DA26  2178BA  	    LD   HL,SPCCOMS-$20E0 ; +$FF20-$2000
2855+11	DA29  19      	    ADD  HL,DE
2866+7	DA2A  5E      	    LD   E,(HL)
2873+6	DA2B  23      	    INC  HL
2879+7	DA2C  56      	    LD   D,(HL)
2886+11	DA2D  D5      	    PUSH DE
2897+12	DA2E  18D0    	    JR   PD_LOOP
			
    -	DA30          	PD_NOIS:
2909+13	DA30  327A40  	    LD   (Ns_Base),A
2922+12	DA33  18CE    	    JR   PD_LP2
			
    -	DA35          	PD_REL:
2934+23	DA35  DDCB0986	    RES  0,(IX-12+PtFlags)
2957+12	DA39  1808    	    JR   PD_RES
			
    -	DA3B          	PD_NOTE:
2969+19	DA3B  DD7706  	    LD   (IX-12+Note),A
2988+23	DA3E  DDCB09C6	    SET  0,(IX-12+PtFlags)
3011+4	DA42  AF      	    XOR  A
    -	DA43          	PD_RES:   ;LD (SaveSP+1),SP
3015+20	DA43  ED731040	    LD   (SaveSP),SP
3035+10	DA47  DDF9    	    LD   SP,IX
3045+4	DA49  67      	    LD   H,A
3049+4	DA4A  6F      	    LD   L,A
3053+11	DA4B  E5      	    PUSH HL
3064+11	DA4C  E5      	    PUSH HL
3075+11	DA4D  E5      	    PUSH HL
3086+11	DA4E  E5      	    PUSH HL
3097+11	DA4F  E5      	    PUSH HL
3108+11	DA50  E5      	    PUSH HL
3119+20	DA51  ED7B1040	    LD   SP,(SaveSP)
			
    -	DA55          	PD_FIN:
3139+19	DA55  DD7E05  	    LD   A,(IX-12+NNtSkp)
3158+19	DA58  DD770F  	    LD   (IX-12+NtSkCn),A
3177+10	DA5B  C9      	    RET
			
    -	DA5C          	C_PORTM:
3187+23	DA5C  DDCB0996	    RES  2,(IX-12+PtFlags)
3210+7	DA60  0A      	    LD   A,(BC)
3217+6	DA61  03      	    INC  BC
			;SKIP PRECALCULATED TONE DELTA (BECAUSE
			;CANNOT BE RIGHT AFTER PT3 COMPILATION)
3223+6	DA62  03      	    INC  BC
3229+6	DA63  03      	    INC  BC
3235+19	DA64  DD770A  	    LD   (IX-12+TnSlDl),A
3254+19	DA67  DD77F9  	    LD   (IX-12+TSlCnt),A
3273+10	DA6A  117C41  	    LD   DE,NT_
3283+19	DA6D  DD7E06  	    LD   A,(IX-12+Note)
3302+19	DA70  DD7707  	    LD   (IX-12+SlToNt),A
3321+4	DA73  87      	    ADD  A,A
3325+4	DA74  6F      	    LD   L,A
3329+7	DA75  2600    	    LD   H,0
3336+11	DA77  19      	    ADD  HL,DE
3347+7	DA78  7E      	    LD   A,(HL)
3354+6	DA79  23      	    INC  HL
3360+7	DA7A  66      	    LD   H,(HL)
3367+4	DA7B  6F      	    LD   L,A
3371+11	DA7C  E5      	    PUSH HL
3382+13	DA7D  3A1C40  	    LD   A,(PrNote)
3395+19	DA80  DD7706  	    LD   (IX-12+Note),A
3414+4	DA83  87      	    ADD  A,A
3418+4	DA84  6F      	    LD   L,A
3422+7	DA85  2600    	    LD   H,0
3429+11	DA87  19      	    ADD  HL,DE
3440+7	DA88  5E      	    LD   E,(HL)
3447+6	DA89  23      	    INC  HL
3453+7	DA8A  56      	    LD   D,(HL)
3460+10	DA8B  E1      	    POP  HL
3470+15	DA8C  ED52    	    SBC  HL,DE
3485+19	DA8E  DD750D  	    LD   (IX-12+TnDelt),L
3504+19	DA91  DD740E  	    LD   (IX-12+TnDelt+1),H
3523+19	DA94  DD5EFA  	    LD   E,(IX-12+CrTnSl)
3542+19	DA97  DD56FB  	    LD   D,(IX-12+CrTnSl+1)
3561+13	DA9A  3A1D40  	    LD   A,(PtVersion)
3574+7	DA9D  FE06    	    CP   6
3581+7+5	DA9F  380A    	    JR   C,OLDPRTM ;Old 3xxx for PT v3.5-
3588+20	DAA1  ED5B1A40	    LD   DE,(PrSlide)
3608+19	DAA5  DD73FA  	    LD   (IX-12+CrTnSl),E
3627+19	DAA8  DD72FB  	    LD   (IX-12+CrTnSl+1),D
    -	DAAB          	OLDPRTM:
3646+7	DAAB  0A      	    LD   A,(BC) ;SIGNED TONE STEP
3653+6	DAAC  03      	    INC  BC
3659+4	DAAD  08      	    EX   AF,AF'
3663+7	DAAE  0A      	    LD   A,(BC)
3670+6	DAAF  03      	    INC  BC
3676+4	DAB0  A7      	    AND  A
3680+7+5	DAB1  2801    	    JR   Z,NOSIG
3687+4	DAB3  EB      	    EX   DE,HL
    -	DAB4          	NOSIG:
3691+15	DAB4  ED52    	    SBC  HL,DE
3706+10	DAB6  F2BEDA  	    JP   P,SET_STP
3716+4	DAB9  2F      	    CPL
3720+4	DABA  08      	    EX   AF,AF'
3724+8	DABB  ED44    	    NEG
3732+4	DABD  08      	    EX   AF,AF'
    -	DABE          	SET_STP:
3736+19	DABE  DD770C  	    LD   (IX-12+TSlStp+1),A
3755+4	DAC1  08      	    EX   AF,AF'
3759+19	DAC2  DD770B  	    LD   (IX-12+TSlStp),A
3778+19	DAC5  DD36FE00	    LD   (IX-12+COnOff),0
3797+10	DAC9  C9      	    RET
			
    -	DACA          	C_GLISS:
3807+23	DACA  DDCB09D6	    SET  2,(IX-12+PtFlags)
3830+7	DACE  0A      	    LD   A,(BC)
3837+6	DACF  03      	    INC  BC
3843+19	DAD0  DD770A  	    LD   (IX-12+TnSlDl),A
3862+4	DAD3  A7      	    AND  A
3866+7+5	DAD4  2007    	    JR   NZ,GL36
3873+13	DAD6  3A1D40  	    LD   A,(PtVersion) ;AlCo PT3.7+
3886+7	DAD9  FE07    	    CP   7
3893+4	DADB  9F      	    SBC  A,A
3897+4	DADC  3C      	    INC  A
    -	DADD          	GL36:
3901+19	DADD  DD77F9  	    LD   (IX-12+TSlCnt),A
3920+7	DAE0  0A      	    LD   A,(BC)
3927+6	DAE1  03      	    INC  BC
3933+4	DAE2  08      	    EX   AF,AF'
3937+7	DAE3  0A      	    LD   A,(BC)
3944+6	DAE4  03      	    INC  BC
3950+12	DAE5  18D7    	    JR   SET_STP
			
    -	DAE7          	C_SMPOS:
3962+7	DAE7  0A      	    LD   A,(BC)
3969+6	DAE8  03      	    INC  BC
3975+19	DAE9  DD77F5  	    LD   (IX-12+PsInSm),A
3994+10	DAEC  C9      	    RET
			
    -	DAED          	C_ORPOS:
4004+7	DAED  0A      	    LD   A,(BC)
4011+6	DAEE  03      	    INC  BC
4017+19	DAEF  DD77F4  	    LD   (IX-12+PsInOr),A
4036+10	DAF2  C9      	    RET
			
    -	DAF3          	C_VIBRT:
4046+7	DAF3  0A      	    LD   A,(BC)
4053+6	DAF4  03      	    INC  BC
4059+19	DAF5  DD77FF  	    LD   (IX-12+OnOffD),A
4078+19	DAF8  DD77FE  	    LD   (IX-12+COnOff),A
4097+7	DAFB  0A      	    LD   A,(BC)
4104+6	DAFC  03      	    INC  BC
4110+19	DAFD  DD7700  	    LD   (IX-12+OffOnD),A
4129+4	DB00  AF      	    XOR  A
4133+19	DB01  DD77F9  	    LD   (IX-12+TSlCnt),A
4152+19	DB04  DD77FA  	    LD   (IX-12+CrTnSl),A
4171+19	DB07  DD77FB  	    LD   (IX-12+CrTnSl+1),A
4190+10	DB0A  C9      	    RET
			
    -	DB0B          	C_ENGLS:
4200+7	DB0B  0A      	    LD   A,(BC)
4207+6	DB0C  03      	    INC  BC
4213+13	DB0D  320A40  	    LD   (Env_Del),A
4226+13	DB10  327840  	    LD   (CurEDel),A
4239+7	DB13  0A      	    LD   A,(BC)
4246+6	DB14  03      	    INC  BC
4252+4	DB15  6F      	    LD   L,A
4256+7	DB16  0A      	    LD   A,(BC)
4263+6	DB17  03      	    INC  BC
4269+4	DB18  67      	    LD   H,A
4273+16	DB19  220D40  	    LD   (ESldAdd),HL
4289+10	DB1C  C9      	    RET
			
    -	DB1D          	C_DELAY:
4299+7	DB1D  0A      	    LD   A,(BC)
4306+6	DB1E  03      	    INC  BC
4312+13	DB1F  320F40  	    LD   (Delay),A
4325+10	DB22  C9      	    RET
			
    -	DB23          	SETENV:
4335+19	DB23  DD7308  	    LD   (IX-12+Env_En),E
4354+13	DB26  328940  	    LD   (AYREGS+EnvTp),A
4367+7	DB29  0A      	    LD   A,(BC)
4374+6	DB2A  03      	    INC  BC
4380+4	DB2B  67      	    LD   H,A
4384+7	DB2C  0A      	    LD   A,(BC)
4391+6	DB2D  03      	    INC  BC
4397+4	DB2E  6F      	    LD   L,A
4401+16	DB2F  228A40  	    LD   (EnvBase),HL
4417+4	DB32  AF      	    XOR  A
4421+19	DB33  DD77F4  	    LD   (IX-12+PsInOr),A
4440+13	DB36  327840  	    LD   (CurEDel),A
4453+4	DB39  67      	    LD   H,A
4457+4	DB3A  6F      	    LD   L,A
4461+16	DB3B  227640  	    LD   (CurESld),HL
    -	DB3E          	C_NOP:
4477+10	DB3E  C9      	    RET
			
    -	DB3F          	SETORN:
4487+4	DB3F  87      	    ADD  A,A
4491+4	DB40  5F      	    LD   E,A
4495+7	DB41  1600    	    LD   D,0
4502+19	DB43  DD72F4  	    LD   (IX-12+PsInOr),D
4521+16	DB46  2A1440  	    LD   HL,(OrnPtrs)
4537+11	DB49  19      	    ADD  HL,DE
4548+7	DB4A  5E      	    LD   E,(HL)
4555+6	DB4B  23      	    INC  HL
4561+7	DB4C  56      	    LD   D,(HL)
4568+16	DB4D  2A0B40  	    LD   HL,(MODADDR)
4584+11	DB50  19      	    ADD  HL,DE
4595+19	DB51  DD7501  	    LD   (IX-12+OrnPtr),L
4614+19	DB54  DD7402  	    LD   (IX-12+OrnPtr+1),H
4633+10	DB57  C9      	    RET
			
			;ALL 16 ADDRESSES TO PROTECT FROM BROKEN PT3 MODULES
    -	DB58          	SPCCOMS:
    -	DB58  3EDB    	    DW   C_NOP
    -	DB5A  CADA    	    DW   C_GLISS
    -	DB5C  5CDA    	    DW   C_PORTM
    -	DB5E  E7DA    	    DW   C_SMPOS
    -	DB60  EDDA    	    DW   C_ORPOS
    -	DB62  F3DA    	    DW   C_VIBRT
    -	DB64  3EDB    	    DW   C_NOP
    -	DB66  3EDB    	    DW   C_NOP
    -	DB68  0BDB    	    DW   C_ENGLS
    -	DB6A  1DDB    	    DW   C_DELAY
    -	DB6C  3EDB    	    DW   C_NOP
    -	DB6E  3EDB    	    DW   C_NOP
    -	DB70  3EDB    	    DW   C_NOP
    -	DB72  3EDB    	    DW   C_NOP
    -	DB74  3EDB    	    DW   C_NOP
    -	DB76  3EDB    	    DW   C_NOP
			
    -	DB78          	CHREGS:
4643+4	DB78  AF      	    XOR  A
4647+13	DB79  328640  	    LD   (Ampl),A
4660+20	DB7C  DDCB1546	    BIT  0,(IX+PtFlags)
4680+11	DB80  E5      	    PUSH HL
4691+10	DB81  CAA7DC  	    JP   Z,CH_EXIT
4701+20	DB84  ED731040	    LD   (SaveSP),SP
4721+19	DB88  DD6E0D  	    LD   L,(IX+OrnPtr)
4740+19	DB8B  DD660E  	    LD   H,(IX+OrnPtr+1)
4759+6	DB8E  F9      	    LD   SP,HL
4765+10	DB8F  D1      	    POP  DE
4775+4	DB90  67      	    LD   H,A
4779+19	DB91  DD7E00  	    LD   A,(IX+PsInOr)
4798+4	DB94  6F      	    LD   L,A
4802+11	DB95  39      	    ADD  HL,SP
4813+4	DB96  3C      	    INC  A
4817+4	DB97  BA      	    CP   D
4821+7+5	DB98  3801    	    JR   C,CH_ORPS
4828+4	DB9A  7B      	    LD   A,E
    -	DB9B          	CH_ORPS:
4832+19	DB9B  DD7700  	    LD   (IX+PsInOr),A
4851+19	DB9E  DD7E12  	    LD   A,(IX+Note)
4870+7	DBA1  86      	    ADD  A,(HL)
4877+10	DBA2  F2A6DB  	    JP   P,CH_NTP
4887+4	DBA5  AF      	    XOR  A
    -	DBA6          	CH_NTP:
4891+7	DBA6  FE60    	    CP   96
4898+7+5	DBA8  3802    	    JR   C,CH_NOK
4905+7	DBAA  3E5F    	    LD   A,95
    -	DBAC          	CH_NOK:
4912+4	DBAC  87      	    ADD  A,A
4916+4	DBAD  08      	    EX   AF,AF'
4920+19	DBAE  DD6E0F  	    LD   L,(IX+SamPtr)
4939+19	DBB1  DD6610  	    LD   H,(IX+SamPtr+1)
4958+6	DBB4  F9      	    LD   SP,HL
4964+10	DBB5  D1      	    POP  DE
4974+7	DBB6  2600    	    LD   H,0
4981+19	DBB8  DD7E01  	    LD   A,(IX+PsInSm)
5000+4	DBBB  47      	    LD   B,A
5004+4	DBBC  87      	    ADD  A,A
5008+4	DBBD  87      	    ADD  A,A
5012+4	DBBE  6F      	    LD   L,A
5016+11	DBBF  39      	    ADD  HL,SP
5027+6	DBC0  F9      	    LD   SP,HL
5033+4	DBC1  78      	    LD   A,B
5037+4	DBC2  3C      	    INC  A
5041+4	DBC3  BA      	    CP   D
5045+7+5	DBC4  3801    	    JR   C,CH_SMPS
5052+4	DBC6  7B      	    LD   A,E
    -	DBC7          	CH_SMPS:
5056+19	DBC7  DD7701  	    LD   (IX+PsInSm),A
5075+10	DBCA  C1      	    POP  BC
5085+10	DBCB  E1      	    POP  HL
5095+19	DBCC  DD5E08  	    LD   E,(IX+TnAcc)
5114+19	DBCF  DD5609  	    LD   D,(IX+TnAcc+1)
5133+11	DBD2  19      	    ADD  HL,DE
5144+8	DBD3  CB70    	    BIT  6,B
5152+7+5	DBD5  2806    	    JR   Z,CH_NOAC
5159+19	DBD7  DD7508  	    LD   (IX+TnAcc),L
5178+19	DBDA  DD7409  	    LD   (IX+TnAcc+1),H
    -	DBDD          	CH_NOAC:
5197+4	DBDD  EB      	    EX   DE,HL
5201+4	DBDE  08      	    EX   AF,AF'
5205+4	DBDF  6F      	    LD   L,A
5209+7	DBE0  2600    	    LD   H,0
5216+10	DBE2  317C41  	    LD   SP,NT_
5226+11	DBE5  39      	    ADD  HL,SP
5237+6	DBE6  F9      	    LD   SP,HL
5243+10	DBE7  E1      	    POP  HL
5253+11	DBE8  19      	    ADD  HL,DE
5264+19	DBE9  DD5E06  	    LD   E,(IX+CrTnSl)
5283+19	DBEC  DD5607  	    LD   D,(IX+CrTnSl+1)
5302+11	DBEF  19      	    ADD  HL,DE
5313+20	DBF0  ED7B1040	    LD   SP,(SaveSP)
5333+19	DBF4  E3      	    EX   (SP),HL
5352+4	DBF5  AF      	    XOR  A
5356+19	DBF6  DDB605  	    OR   (IX+TSlCnt)
5375+7+5	DBF9  283E    	    JR   Z,CH_AMP
5382+23	DBFB  DD3505  	    DEC  (IX+TSlCnt)
5405+7+5	DBFE  2039    	    JR   NZ,CH_AMP
5412+19	DC00  DD7E16  	    LD   A,(IX+TnSlDl)
5431+19	DC03  DD7705  	    LD   (IX+TSlCnt),A
5450+19	DC06  DD6E17  	    LD   L,(IX+TSlStp)
5469+19	DC09  DD6618  	    LD   H,(IX+TSlStp+1)
5488+4	DC0C  7C      	    LD   A,H
5492+11	DC0D  19      	    ADD  HL,DE
5503+19	DC0E  DD7506  	    LD   (IX+CrTnSl),L
5522+19	DC11  DD7407  	    LD   (IX+CrTnSl+1),H
5541+20	DC14  DDCB1556	    BIT  2,(IX+PtFlags)
5561+7+5	DC18  201F    	    JR   NZ,CH_AMP
5568+19	DC1A  DD5E19  	    LD   E,(IX+TnDelt)
5587+19	DC1D  DD561A  	    LD   D,(IX+TnDelt+1)
5606+4	DC20  A7      	    AND  A
5610+7+5	DC21  2801    	    JR   Z,CH_STPP
5617+4	DC23  EB      	    EX   DE,HL
    -	DC24          	CH_STPP:
5621+15	DC24  ED52    	    SBC  HL,DE
5636+10	DC26  FA39DC  	    JP   M,CH_AMP
5646+19	DC29  DD7E13  	    LD   A,(IX+SlToNt)
5665+19	DC2C  DD7712  	    LD   (IX+Note),A
5684+4	DC2F  AF      	    XOR  A
5688+19	DC30  DD7705  	    LD   (IX+TSlCnt),A
5707+19	DC33  DD7706  	    LD   (IX+CrTnSl),A
5726+19	DC36  DD7707  	    LD   (IX+CrTnSl+1),A
    -	DC39          	CH_AMP:
5745+19	DC39  DD7E02  	    LD   A,(IX+CrAmSl)
5764+8	DC3C  CB79    	    BIT  7,C
5772+7+5	DC3E  2813    	    JR   Z,CH_NOAM
5779+8	DC40  CB71    	    BIT  6,C
5787+7+5	DC42  2807    	    JR   Z,CH_AMIN
5794+7	DC44  FE0F    	    CP   15
5801+7+5	DC46  280B    	    JR   Z,CH_NOAM
5808+4	DC48  3C      	    INC  A
5812+12	DC49  1805    	    JR   CH_SVAM
    -	DC4B          	CH_AMIN:
5824+7	DC4B  FEF1    	    CP   -15
5831+7+5	DC4D  2804    	    JR   Z,CH_NOAM
5838+4	DC4F  3D      	    DEC  A
    -	DC50          	CH_SVAM:
5842+19	DC50  DD7702  	    LD   (IX+CrAmSl),A
    -	DC53          	CH_NOAM:
5861+4	DC53  6F      	    LD   L,A
5865+4	DC54  78      	    LD   A,B
5869+7	DC55  E60F    	    AND  15
5876+4	DC57  85      	    ADD  A,L
5880+10	DC58  F25CDC  	    JP   P,CH_APOS
5890+4	DC5B  AF      	    XOR  A
    -	DC5C          	CH_APOS:
5894+7	DC5C  FE10    	    CP   16
5901+7+5	DC5E  3802    	    JR   C,CH_VOL
5908+7	DC60  3E0F    	    LD   A,15
    -	DC62          	CH_VOL:
5915+19	DC62  DDB61C  	    OR   (IX+Volume)
5934+4	DC65  6F      	    LD   L,A
5938+7	DC66  2600    	    LD   H,0
5945+10	DC68  117C40  	    LD   DE,VT_
5955+11	DC6B  19      	    ADD  HL,DE
5966+7	DC6C  7E      	    LD   A,(HL)
    -	DC6D          	CH_ENV:
5973+8	DC6D  CB41    	    BIT  0,C
5981+7+5	DC6F  2003    	    JR   NZ,CH_NOEN
5988+19	DC71  DDB614  	    OR   (IX+Env_En)
    -	DC74          	CH_NOEN:
6007+13	DC74  328640  	    LD   (Ampl),A
6020+8	DC77  CB78    	    BIT  7,B
6028+4	DC79  79      	    LD   A,C
6032+7+5	DC7A  2819    	    JR   Z,NO_ENSL
6039+4	DC7C  17      	    RLA
6043+4	DC7D  17      	    RLA
6047+8	DC7E  CB2F    	    SRA  A
6055+8	DC80  CB2F    	    SRA  A
6063+8	DC82  CB2F    	    SRA  A
6071+19	DC84  DD8604  	    ADD  A,(IX+CrEnSl) ;SEE COMMENT BELOW
6090+8	DC87  CB68    	    BIT  5,B
6098+7+5	DC89  2803    	    JR   Z,NO_ENAC
6105+19	DC8B  DD7704  	    LD   (IX+CrEnSl),A
    -	DC8E          	NO_ENAC:
6124+10	DC8E  210340  	    LD   HL,AddToEn
6134+7	DC91  86      	    ADD  A,(HL)    ;BUG IN PT3 - NEED WORD HERE.
			                   ;FIX IT IN NEXT Version?
6141+7	DC92  77      	    LD   (HL),A
6148+12	DC93  180E    	    JR   CH_MIX
    -	DC95          	NO_ENSL:
6160+4	DC95  1F      	    RRA
6164+19	DC96  DD8603  	    ADD  A,(IX+CrNsSl)
6183+13	DC99  327B40  	    LD   (AddToNs),A
6196+8	DC9C  CB68    	    BIT  5,B
6204+7+5	DC9E  2803    	    JR   Z,CH_MIX
6211+19	DCA0  DD7703  	    LD   (IX+CrNsSl),A
    -	DCA3          	CH_MIX:
6230+4	DCA3  78      	    LD   A,B
6234+4	DCA4  1F      	    RRA
6238+7	DCA5  E648    	    AND  $48
    -	DCA7          	CH_EXIT:
6245+10	DCA7  218340  	    LD   HL,AYREGS+Mixer
6255+7	DCAA  B6      	    OR   (HL)
6262+4	DCAB  0F      	    RRCA
6266+7	DCAC  77      	    LD   (HL),A
6273+10	DCAD  E1      	    POP  HL
6283+4	DCAE  AF      	    XOR  A
6287+19	DCAF  DDB60A  	    OR   (IX+COnOff)
6306+5+6	DCB2  C8      	    RET  Z
6311+23	DCB3  DD350A  	    DEC  (IX+COnOff)
6334+5+6	DCB6  C0      	    RET  NZ
6339+19	DCB7  DDAE15  	    XOR  (IX+PtFlags)
6358+19	DCBA  DD7715  	    LD   (IX+PtFlags),A
6377+4	DCBD  1F      	    RRA
6381+19	DCBE  DD7E0B  	    LD   A,(IX+OnOffD)
6400+7+5	DCC1  3803    	    JR   C,CH_ONDL
6407+19	DCC3  DD7E0C  	    LD   A,(IX+OffOnD)
    -	DCC6          	CH_ONDL:
6426+19	DCC6  DD770A  	    LD   (IX+COnOff),A
6445+10	DCC9  C9      	    RET
			
    -	DCCA          	PLAY:
6455+4	DCCA  AF      	    XOR   A
6459+13	DCCB  320340  	    LD   (AddToEn),A
6472+13	DCCE  328340  	    LD   (AYREGS+Mixer),A
6485+4	DCD1  3D      	    DEC   A
6489+13	DCD2  328940  	    LD   (AYREGS+EnvTp),A
6502+10	DCD5  217540  	    LD   HL,DelyCnt
6512+11	DCD8  35      	    DEC  (HL)
6523+10	DCD9  C260DD  	    JP   NZ,PL2
6533+10	DCDC  213940  	    LD   HL,ChanA+NtSkCn
6543+11	DCDF  35      	    DEC  (HL)
6554+7+5	DCE0  204E    	    JR   NZ,PL1B
6561+20	DCE2  ED4B0440	    LD   BC,(AdInPtA)
6581+7	DCE6  0A      	    LD   A,(BC)
6588+4	DCE7  A7      	    AND  A
6592+7+5	DCE8  203B    	    JR   NZ,PL1A
6599+4	DCEA  57      	    LD   D,A
6603+13	DCEB  327A40  	    LD   (Ns_Base),A
6616+16	DCEE  2A0140  	    LD   HL,(CrPsPtr)
6632+6	DCF1  23      	    INC  HL
6638+7	DCF2  7E      	    LD   A,(HL)
6645+4	DCF3  3C      	    INC  A
6649+7+5	DCF4  2008    	    JR   NZ,PLNLP
6656+17	DCF6  CD28D8  	    CALL CHECKLP
6673+16	DCF9  2A1840  	    LD   HL,(LPosPtr)
6689+7	DCFC  7E      	    LD   A,(HL)
6696+4	DCFD  3C      	    INC  A
    -	DCFE          	PLNLP:
6700+16	DCFE  220140  	    LD   (CrPsPtr),HL
6716+4	DD01  3D      	    DEC  A
6720+4	DD02  87      	    ADD  A,A
6724+4	DD03  5F      	    LD   E,A
6728+8	DD04  CB12    	    RL   D
6736+16	DD06  2A1640  	    LD   HL,(PatsPtr)
6752+11	DD09  19      	    ADD  HL,DE
6763+20	DD0A  ED5B0B40	    LD   DE,(MODADDR)
6783+20	DD0E  ED731040	    LD   (SaveSP),SP
6803+6	DD12  F9      	    LD   SP,HL
6809+10	DD13  E1      	    POP  HL
6819+11	DD14  19      	    ADD  HL,DE
6830+4	DD15  44      	    LD   B,H
6834+4	DD16  4D      	    LD   C,L
6838+10	DD17  E1      	    POP  HL
6848+11	DD18  19      	    ADD  HL,DE
6859+16	DD19  220640  	    LD   (AdInPtB),HL
6875+10	DD1C  E1      	    POP  HL
6885+11	DD1D  19      	    ADD  HL,DE
6896+16	DD1E  220840  	    LD   (AdInPtC),HL
6912+20	DD21  ED7B1040	    LD   SP,(SaveSP)
    -	DD25          	PL1A:
6932+14	DD25  DD212A40	    LD   IX,ChanA+12
6946+17	DD29  CDF1D9  	    CALL PTDECOD
6963+20	DD2C  ED430440	    LD   (AdInPtA),BC
			
    -	DD30          	PL1B:
6983+10	DD30  215640  	    LD   HL,ChanB+NtSkCn
6993+11	DD33  35      	    DEC  (HL)
7004+7+5	DD34  200F    	    JR   NZ,PL1C
7011+14	DD36  DD214740	    LD   IX,ChanB+12
7025+20	DD3A  ED4B0640	    LD   BC,(AdInPtB)
7045+17	DD3E  CDF1D9  	    CALL PTDECOD
7062+20	DD41  ED430640	    LD   (AdInPtB),BC
    -	DD45          	PL1C:
7082+10	DD45  217340  	    LD   HL,ChanC+NtSkCn
7092+11	DD48  35      	    DEC  (HL)
7103+7+5	DD49  200F    	    JR   NZ,PL1D
7110+14	DD4B  DD216440	    LD   IX,ChanC+12
7124+20	DD4F  ED4B0840	    LD   BC,(AdInPtC)
7144+17	DD53  CDF1D9  	    CALL PTDECOD
7161+20	DD56  ED430840	    LD   (AdInPtC),BC
			
    -	DD5A          	PL1D:
7181+13	DD5A  3A0F40  	    LD   A,(Delay)
7194+13	DD5D  327540  	    LD   (DelyCnt),A
			
    -	DD60          	PL2:
7207+14	DD60  DD211E40	    LD   IX,ChanA
7221+16	DD64  2A7C40  	    LD   HL,(AYREGS+TonA)
7237+17	DD67  CD78DB  	    CALL CHREGS
7254+16	DD6A  227C40  	    LD   (AYREGS+TonA),HL
7270+13	DD6D  3A8640  	    LD   A,(Ampl)
7283+13	DD70  328440  	    LD   (AYREGS+AmplA),A
7296+14	DD73  DD213B40	    LD   IX,ChanB
7310+16	DD77  2A7E40  	    LD   HL,(AYREGS+TonB)
7326+17	DD7A  CD78DB  	    CALL CHREGS
7343+16	DD7D  227E40  	    LD   (AYREGS+TonB),HL
7359+13	DD80  3A8640  	    LD   A,(Ampl)
7372+13	DD83  328540  	    LD   (AYREGS+AmplB),A
7385+14	DD86  DD215840	    LD   IX,ChanC
7399+16	DD8A  2A8040  	    LD   HL,(AYREGS+TonC)
7415+17	DD8D  CD78DB  	    CALL CHREGS
7432+16	DD90  228040  	    LD   (AYREGS+TonC),HL
7448+16	DD93  2A7A40  	    LD   HL,(Ns_Base_AddToNs)
7464+4	DD96  7C      	    LD   A,H
7468+4	DD97  85      	    ADD  A,L
7472+13	DD98  328240  	    LD   (AYREGS+Noise),A
7485+13	DD9B  3A0340  	    LD   A,(AddToEn)
7498+4	DD9E  5F      	    LD   E,A
7502+4	DD9F  87      	    ADD  A,A
7506+4	DDA0  9F      	    SBC  A,A
7510+4	DDA1  57      	    LD   D,A
7514+16	DDA2  2A8A40  	    LD   HL,(EnvBase)
7530+11	DDA5  19      	    ADD  HL,DE
7541+20	DDA6  ED5B7640	    LD   DE,(CurESld)
7561+11	DDAA  19      	    ADD  HL,DE
7572+16	DDAB  228740  	    LD   (AYREGS+Env),HL
7588+4	DDAE  AF      	    XOR  A
7592+10	DDAF  217840  	    LD   HL,CurEDel
7602+7	DDB2  B6      	    OR   (HL)
7609+7+5	DDB3  280F    	    JR   Z,ROUT_A0
7616+11	DDB5  35      	    DEC (HL)
7627+7+5	DDB6  200B    	    JR   NZ,ROUT
7634+13	DDB8  3A0A40  	    LD   A,(Env_Del)
7647+7	DDBB  77      	    LD   (HL),A
7654+16	DDBC  2A0D40  	    LD   HL,(ESldAdd)
7670+11	DDBF  19      	    ADD  HL,DE
7681+16	DDC0  227640  	    LD   (CurESld),HL
    -	DDC3          	ROUT:
7697+4	DDC3  AF      	    XOR  A           ; A  = register 0
    -	DDC4          	ROUT_A0:
7701+10	DDC4  217C40  	    LD   HL,AYREGS   ; HL = register data
7711+7	DDC7  0EF6    	    LD   C,$F6       ; C  = AY data port
    -	DDC9          	LOUT:
7718+11	DDC9  D3F7    	    OUT  ($F7),A     ; select register
7729+4	DDCB  3C      	    INC  A           ; A = next register
7733+16	DDCC  EDA3    	    OUTI             ; (HL) -> AY register, inc HL
7749+7	DDCE  FE0D    	    CP   13          ; loaded registers 0~12?
7756+7+5	DDD0  20F7    	    JR   NZ,LOUT
7763+11	DDD2  D3F7    	    OUT  ($F7),A     ; select register 13
7774+7	DDD4  7E      	    LD   A,(HL)      ; get register 13 data
7781+4	DDD5  A7      	    AND  A
7785+5+6	DDD6  F8      	    RET  M           ; return if bit 7 = 1
7790+12	DDD7  ED79    	    OUT  (C),A       ; load register 13
7802+10	DDD9  C9      	    RET
			
			;Stupid ALASM limitations
    -	DDDA          	NT_DATA:
    -	DDDA  64      	    DB (T_NEW_0-T1_)*2 ; 50*2
    -	DDDB  2A      	    DB TCNEW_0-T_
    -	DDDC  65      	    DB 50*2+1          ;(T_OLD_0-T1_)*2+1
    -	DDDD  00      	    DB TCOLD_0-T_
    -	DDDE  01      	    DB 0*2+1           ;(T_NEW_1-T1_)*2+1
    -	DDDF  0C      	    DB TCNEW_1-T_
    -	DDE0  01      	    DB 0*2+1           ;(T_OLD_1-T1_)*2+1
    -	DDE1  0C      	    DB TCOLD_1-T_
    -	DDE2  94      	    DB 74*2            ;(T_NEW_2-T1_)*2
    -	DDE3  35      	    DB TCNEW_2-T_
    -	DDE4  30      	    DB 24*2            ;(T_OLD_2-T1_)*2
    -	DDE5  0E      	    DB TCOLD_2-T_
    -	DDE6  60      	    DB 48*2            ;(T_NEW_3-T1_)*2
    -	DDE7  20      	    DB TCNEW_3-T_
    -	DDE8  60      	    DB 48*2            ;(T_OLD_3-T1_)*2
    -	DDE9  21      	    DB TCOLD_3-T_
			
    -	DDEA          	T_
			
    -	DDEA          	TCOLD_0:
    -	DDEA  0105090B	    DB $00+1,$04+1,$08+1,$0A+1,$0C+1,$0E+1,$12+1,$14+1
              0D0F1315
    -	DDF2  19253D00	    DB $18+1,$24+1,$3C+1,0
    -	DDF6          	TCOLD_1:
    -	DDF6          	TCNEW_1:
    -	DDF6  5D00    	    DB $5C+1,0
    -	DDF8          	TCOLD_2:
    -	DDF8  31374D53	    DB $30+1,$36+1,$4C+1,$52+1,$5E+1,$70+1,$82,$8C,$9C
              5F71828C
              9C
    -	DE01  9EA0A6A8	    DB $9E,$A0,$A6,$A8,$AA,$AC,$AE,$AE,0
              AAACAEAE
              00
    -	DE0A          	TCNEW_3:
    -	DE0A  57      	    DB $56+1
    -	DE0B          	TCOLD_3:
    -	DE0B  1F232529	    DB $1E+1,$22+1,$24+1,$28+1,$2C+1,$2E+1,$32+1,$BE+1,0
              2D2F33BF
              00
    -	DE14          	TCNEW_0:
    -	DE14  1D212327	    DB $1C+1,$20+1,$22+1,$26+1,$2A+1,$2C+1,$30+1,$54+1
              2B2D3155
    -	DE1C  BDBF00  	    DB $BC+1,$BE+1,0
    -	DE1F          	TCNEW_2:
    -	DE1F  1B212529	    DB $1A+1,$20+1,$24+1,$28+1,$2A+1,$3A+1,$4C+1,$5E+1
              2B3B4D5F
    -	DE27  BBBDBF  	    DB $BA+1,$BC+1,$BE+1
    -	DE2A          	EMPTYSAMORN:
    -	DE2A  00      	    DB 0
    -	DE2B  010090  	    DB 1,0,$90 ;delete $90 if you don't need default sample
			
			;first 12 values of tone tables (packed)
			
    -	DE2E          	T_PACK:
    -	DE2E  0DD8    	    DB high($06EC*2),low($06EC*2)
    -	DE30  69      	    DB $0755-$06EC
    -	DE31  70      	    DB $07C5-$0755
    -	DE32  76      	    DB $083B-$07C5
    -	DE33  7D      	    DB $08B8-$083B
    -	DE34  85      	    DB $093D-$08B8
    -	DE35  8D      	    DB $09CA-$093D
    -	DE36  95      	    DB $0A5F-$09CA
    -	DE37  9D      	    DB $0AFC-$0A5F
    -	DE38  A8      	    DB $0BA4-$0AFC
    -	DE39  B1      	    DB $0C55-$0BA4
    -	DE3A  BB      	    DB $0D10-$0C55
    -	DE3B  0CDA    	    DB high($066D*2),low($066D*2)
    -	DE3D  62      	    DB $06CF-$066D
    -	DE3E  68      	    DB $0737-$06CF
    -	DE3F  6D      	    DB $07A4-$0737
    -	DE40  75      	    DB $0819-$07A4
    -	DE41  7B      	    DB $0894-$0819
    -	DE42  83      	    DB $0917-$0894
    -	DE43  8A      	    DB $09A1-$0917
    -	DE44  92      	    DB $0A33-$09A1
    -	DE45  9C      	    DB $0ACF-$0A33
    -	DE46  A4      	    DB $0B73-$0ACF
    -	DE47  AF      	    DB $0C22-$0B73
    -	DE48  B8      	    DB $0CDA-$0C22
    -	DE49  0E08    	    DB high($0704*2),low($0704*2)
    -	DE4B  6A      	    DB $076E-$0704
    -	DE4C  72      	    DB $07E0-$076E
    -	DE4D  78      	    DB $0858-$07E0
    -	DE4E  7E      	    DB $08D6-$0858
    -	DE4F  86      	    DB $095C-$08D6
    -	DE50  90      	    DB $09EC-$095C
    -	DE51  96      	    DB $0A82-$09EC
    -	DE52  A0      	    DB $0B22-$0A82
    -	DE53  AA      	    DB $0BCC-$0B22
    -	DE54  B4      	    DB $0C80-$0BCC
    -	DE55  BE      	    DB $0D3E-$0C80
    -	DE56  0FC0    	    DB high($07E0*2),low($07E0*2)
    -	DE58  78      	    DB $0858-$07E0
    -	DE59  88      	    DB $08E0-$0858
    -	DE5A  80      	    DB $0960-$08E0
    -	DE5B  90      	    DB $09F0-$0960
    -	DE5C  98      	    DB $0A88-$09F0
    -	DE5D  A0      	    DB $0B28-$0A88
    -	DE5E  B0      	    DB $0BD8-$0B28
    -	DE5F  A8      	    DB $0C80-$0BD8
    -	DE60  E0      	    DB $0D60-$0C80
    -	DE61  B0      	    DB $0E10-$0D60
    -	DE62  E8      	    DB $0EF8-$0E10
			
			
			
**** main.asm ****
			 
**** main.asm ****
    -	DE63 ..DFFF 76	      dc $E000-$,$76



Error + Warning report:

     0 errors
     2 warnings
     2 W -- General warnings

     4	passes
     0	jr promotions
   178	symbols
  2048	bytes

    28	macro calls
   367	macro bytes
     0	invented symbols



Symbol Table:

AYREGS         =407C      16508
AdInPtA        =4004      16388
AdInPtB        =4006      16390
AdInPtC        =4008      16392
AddToEn        =4003      16387
AddToNs        =407B      16507
Ampl           =4086      16518
AmplA          =08        8
AmplB          =09        9
AmplC          =0A        10
CHECKLP         D828      55336
CHP_size       =1D        29
CHREGS          DB78      56184
CH_AMIN         DC4B      56395
CH_AMP          DC39      56377
CH_APOS         DC5C      56412
CH_ENV          DC6D      56429
CH_EXIT         DCA7      56487
CH_MIX          DCA3      56483
CH_NOAC         DBDD      56285
CH_NOAM         DC53      56403
CH_NOEN         DC74      56436
CH_NOK          DBAC      56236
CH_NTP          DBA6      56230
CH_ONDL         DCC6      56518
CH_ORPS         DB9B      56219
CH_SMPS         DBC7      56263
CH_STPP         DC24      56356
CH_SVAM         DC50      56400
CH_VOL          DC62      56418
CORR_1          D94B      55627
CORR_2          D959      55641
COnOff         =0A        10
C_DELAY         DB1D      56093
C_ENGLS         DB0B      56075
C_GLISS         DACA      56010
C_NOP           DB3E      56126
C_ORPOS         DAED      56045
C_PORTM         DA5C      55900
C_SMPOS         DAE7      56039
C_VIBRT         DAF3      56051
ChanA          =401E      16414
ChanB          =403B      16443
ChanC          =4058      16472
CrAmSl         =02        2
CrEnSl         =04        4
CrNsSl         =03        3
CrPsPtr        =4001      16385
CrTnSl         =06        6
CurEDel        =4078      16504
CurESld        =4076      16502
Delay          =400F      16399
DelyCnt        =4075      16501
EMPTYSAMORN     DE2A      56874
ESldAdd        =400D      16397
Env            =0B        11
EnvBase        =408A      16522
EnvTp          =0D        13
Env_Del        =400A      16394
Env_En         =14        20
GL36            DADD      56029
INIT            D845      55365
INITV1          D97D      55677
INITV2          D978      55672
L1              D917      55575
L2              D924      55588
L20             D8E0      55520
L21             D8E2      55522
L3             =401A      16410
LOUT            DDC9      56777
LPosPtr        =4018      16408
M1              D96F      55663
M2             =401A      16410
M3              D997      55703
MODADDR        =400B      16395
MUTE            D839      55353
Mixer          =07        7
NNtSkp         =11        17
NOSIG           DAB4      55988
NO_ENAC         DC8E      56462
NO_ENSL         DC95      56469
NT_            =417C      16764
NT_DATA         DDDA      56794
Noise          =06        6
Note           =12        18
Ns_Base        =407A      16506
Ns_Base_AddToNs=407A      16506
NtSkCn         =1B        27
OLDPRTM         DAAB      55979
OffOnD         =0C        12
OnOffD         =0B        11
OrnPtr         =0D        13
OrnPtrs        =4014      16404
PD_ENV          D9DA      55770
PD_EOff         D9C8      55752
PD_ESAM         D9E4      55780
PD_FIN          DA55      55893
PD_LOOP         DA00      55808
PD_LP2          DA03      55811
PD_NOIS         DA30      55856
PD_NOTE         DA3B      55867
PD_ORN          D9DF      55775
PD_OrSm         D99E      55710
PD_REL          DA35      55861
PD_RES          DA43      55875
PD_SAM          D9A8      55720
PD_SAM_         D9A9      55721
PD_SorE         D9D0      55760
PD_VOL          D9BF      55743
PL1A            DD25      56613
PL1B            DD30      56624
PL1C            DD45      56645
PL1D            DD5A      56666
PL2             DD60      56672
PLAY            DCCA      56522
PLNLP           DCFE      56574
PT3_PLAY        D821      55329
PTDECOD         D9F1      55793
PatsPtr        =4016      16406
PlayQuark       D813      55315
PrNote         =401C      16412
PrSlide        =401A      16410
PsInOr         =00        0
PsInSm         =01        1
PtFlags        =15        21
PtVersion      =401D      16413
ROUT            DDC3      56771
ROUT_A0         DDC4      56772
SETENV          DB23      56099
SETORN          DB3F      56127
SETUP          =4000      16384
SET_STP         DABE      55998
SPCCOMS         DB58      56152
SamPtr         =0F        15
SamPtrs        =4012      16402
SaveSP         =4010      16400
SlToNt         =13        19
SongData       =5000      20480
StartPlayer     D80C      55308
T1_            =408C      16524
TCNEW_0         DE14      56852
TCNEW_1         DDF6      56822
TCNEW_2         DE1F      56863
TCNEW_3         DE0A      56842
TCOLD_0         DDEA      56810
TCOLD_1         DDF6      56822
TCOLD_2         DDF8      56824
TCOLD_3         DE0B      56843
TC_EXIT         D960      55648
TP_0            D884      55428
TP_1            D890      55440
TP_2            D897      55447
TSlCnt         =05        5
TSlStp         =17        23
T_              DDEA      56810
T_NEW_0        =40BE      16574
T_NEW_1        =408C      16524
T_NEW_2        =40D6      16598
T_NEW_3        =40BC      16572
T_OLD_0        =40BE      16574
T_OLD_1        =408C      16524
T_OLD_2        =40A4      16548
T_OLD_3        =40BC      16572
T_PACK          DE2E      56878
TnAcc          =08        8
TnDelt         =19        25
TnSlDl         =16        22
TonA           =00        0
TonB           =02        2
TonC           =04        4
VAR0END        =408C      16524
VAREND         =423C      16956
VARMEM         =4000      16384
VARS_offset    =4000      16384
VAR_size       = 23C      572
VT_            =407C      16508
Volume         =1C        28
count          =417C      16764
