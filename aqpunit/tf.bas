100 REM Test FILL TILEMAP
110 QU=0:REM 0=Screen,1=Printer
120 SET FAST ON
130 SCREEN 3:GOSUB _init
133 SET FNKEY 3 TO \"RUN /au/tf.baq\r"
134 SET FNKEY 4 TO \"goto _dump\r"

200 GOSUB _title:ARGS "FILL TILEMAP"
211 DEF RGBLIST R$=0,0,0;1,1,1;2,2,2;3,3,3;4,4,4;5,5,5;6,6,6;7,7,7;8,8,8;9,9,9;10,10,10;11,11,11;12,12,12;13,13,13;14,14,14;15,15,15
217 SET PALETTE 2 TO R$

230 DIM T$(5):FOR L=231 TO 235
231 T$(1)=$"000FF00000F44F0000F44F0000F44F000F4444F00F4444F0F044440FF444444F"
232 T$(2)=$"0000000000000008000000080800000707000007080000070800000708000006"
233 T$(3)=$"08000004087E7E84087E7E7808000E8708000008000000800000000000000060"
234 T$(4)=$"0000000008000000780000001700000817000007170000084700000846000008"
235 T$(5)=$"44000008448E7E78787E7E78478E000878000008008000000000000000600000"

241 FOR T=1 TO 5:SET TILE 500+T TO T$(T)
246 NEXT

250 FOR PL=0 TO 3:P=PL*16:FOR PR=0 TO 1:FOR FL=0 TO 3:A=PR*64+FL*2
251 GOSUB _output:ARGS LIST$(NEXT)
252 PRINT P;A:FILL @40,0,$1000,WORD 501+(P+A)*256
253 GOSUB _output:ARGS LIST$(NEXT)
254 POKE @20,$1000,$FF
255 GOSUB _output:ARGS "FILL TILEMAP TILE 501 ATTR $%% PALETTE %%" % (HEX$(A),PL)
256 FILL TILEMAP TILE 501 ATTR A PALETTE PL
257 GOSUB _assert:ARGS "COMPARE(@20,0,@40,0,$1000)"
258 GOSUB _assert:ARGS "PEEK(@20,$1000)=$FF"
259 NEXT:GOSUB _pause:NEXT:NEXT
